# 项目需求与结构设计文档

## 一、项目定位
本项目为多页面 Streamlit Web 应用，具备用户登录注册、LLM（大模型）对话、秘钥管理等功能。所有功能均以菜单形式组织，每个菜单对应一个独立页面，便于后续扩展。

---

## 二、核心功能菜单

1. **用户登录/注册页面**
   - 菜单项：“登录/注册”
   - 功能：用户邮箱注册、登录，支持 Supabase 后端认证，自动登录与 token 续签。
   - 说明：未登录时自动跳转至此页面，登录后可访问其他功能。

2. **LLM对话页面**
   - 菜单项：“智能对话”
   - 功能：与 Gemini 等兼容 OpenAI 的大模型进行多轮对话。
   - 说明：需先登录，支持模型选择（后续由秘钥管理页面提供模型列表）。

3. **LLM秘钥管理页面**
   - 菜单项：“秘钥管理”
   - 功能：填写、修改、保存 LLM API Key（如 Gemini Key），并根据秘钥自动获取可用模型列表，供用户选择。
   - 说明：支持秘钥的安全存储与更新，模型选择与对话页面联动。

---

## 三、页面与菜单结构

- 顶部或侧边栏菜单导航，点击菜单切换页面。
- 每个页面独立，互不干扰，便于后续功能扩展（如：历史记录、知识库、设置等）。

---

## 四、技术方案

- 前端：Streamlit 多页面（推荐使用 `st.sidebar` 或 `st.pages` 实现菜单导航）。
- 后端：Supabase 负责用户认证、数据存储（如秘钥、用户偏好等）。
- LLM服务：Gemini（兼容 OpenAI API），支持模型自动获取与切换。
- 秘钥管理：与用户账号关联，安全存储，支持后续多模型、多服务商扩展。

---

## 五、后续扩展建议

- 新增功能均以菜单+页面形式添加，保持结构清晰。
- 可扩展：聊天历史、知识库管理、用户设置、数据分析等。
- 支持多模型、多服务商（如 OpenAI、智谱、讯飞等）。

---

## 六、开发建议

- 先实现基础三大页面（登录/注册、智能对话、秘钥管理）。
- 菜单导航与页面切换优先保证用户体验。
- 所有页面均需鉴权，未登录用户自动跳转登录页面。
- 秘钥管理页面与对话页面联动，确保模型选择与调用一致。

---

如需详细页面原型、接口设计或技术选型细节，可随时补充！
